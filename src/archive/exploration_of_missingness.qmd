---
title: "Exploration of missingness"
author: "Mark Brown"
format: html
editor: visual
---

## Exploration of missingness within the UNITE COVID dataset

This document explores missingess, thereby, providing the understanding and basis to pursue muiltiple imputation within the UNITE COVID data set.

```{r}
#| label: Loading packages
#| include: false

#library 
library(tidyverse)
library(gtsummary)
library(mice) #muiltiple imputation 
library(naniar) #visualisation of missingness
library(here) #allow relative paths within Quatro
```

```{r}
#| label: Run processed data
#| include: false
#| 
# Run 01_raw_to_processed.r to process the data
source("src/01_raw_to_processed.R") 

```

The Cambridge analysis identified that length of ventilation was related to the center (e.g ICU) and used predictive mean matching for muiltiple imputation (n=5).


```{r}
#| label: Overall description of missingness

gg_miss_var(UNITE_2020_corrected, show_pct = TRUE, facet = ICU_CORTICO_YN)
vis_miss(UNITE_2020_corrected)
gg_miss_fct(UNITE_2020_corrected, NEW_SITE_ID) 
gg_miss_fct(UNITE_2020_corrected, NEW_COUNTRY_ID)

```


